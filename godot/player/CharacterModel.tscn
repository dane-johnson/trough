[gd_scene load_steps=7 format=2]

[ext_resource path="res://player/raw/austin_skin.png" type="Texture" id=1]
[ext_resource path="res://player/raw/man.glb" type="PackedScene" id=2]
[ext_resource path="res://psx.shader" type="Shader" id=3]
[ext_resource path="res://player/raw/run.anim" type="Animation" id=6]

[sub_resource type="GDScript" id=2]
script/source = "extends Spatial
#
#export(NodePath) var gun_path
#
#onready var gun = get_node(gun_path)
#onready var skel = $Armature/Skeleton
#
#func _process(_delta):
#	ik_hold_gun()
#
#func ik_hold_gun():
#	var r_hand = skel.find_bone(\"handr\"
#	var rotate_vector = 
"

[sub_resource type="ShaderMaterial" id=1]
shader = ExtResource( 3 )
shader_param/color = Color( 1, 1, 1, 1 )
shader_param/specular_intensity = null
shader_param/resolution = 200.0
shader_param/cull_distance = 100.0
shader_param/uv_scale = Vector2( 1, 1 )
shader_param/uv_offset = Vector2( 0, 0 )
shader_param/albedoTex = ExtResource( 1 )

[node name="CharacterModel" instance=ExtResource( 2 )]
script = SubResource( 2 )

[node name="Skeleton" parent="Armature" index="0"]
bones/4/bound_children = [ NodePath("Hand") ]

[node name="Cube" parent="Armature/Skeleton" index="0"]
material/0 = SubResource( 1 )

[node name="Hand" type="BoneAttachment" parent="Armature/Skeleton" index="1"]
transform = Transform( -8.46921e-08, 1, -1.49012e-08, -1, -1.09983e-07, -5.69597e-06, -5.6976e-06, 1.49012e-08, 1, 0.724716, 0.488436, -8.9407e-08 )
bone_name = "handl"

[node name="WeaponSocket" type="Spatial" parent="Armature/Skeleton/Hand" index="0"]
transform = Transform( 0.0392851, -0.976483, -0.211985, -0.909459, -0.122825, 0.397238, -0.413932, 0.177186, -0.892897, 0.0402189, 0.114949, 0.14809 )

[node name="AnimationPlayer" parent="." index="1"]
autoplay = "aim_gun"
anims/run = ExtResource( 6 )
